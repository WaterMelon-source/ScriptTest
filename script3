_G.restaurant = nil
_G.CurrentPlayer = nil

for i,v in pairs(workspace.Tycoons:GetChildren()) do
	if v:FindFirstChild("Player") and v.Player.Value == game.Players.LocalPlayer then
		_G.restaurant = v
		_G.CurrentPlayer = game.Players.LocalPlayer.Name
	end
end

for i,v in pairs(_G.restaurant.Customers:GetChildren()) do
			if v:FindFirstChild("Data").Stage and v:FindFirstChild("Data").Stage.Value == "Entered" then
				for i,f in pairs(_G.restaurant.Items.AlwaysFiltered.NPCs:GetChildren()) do
					print(tostring(v.Name))
					if f:FindFirstChild(tostring(v.Name)) then
						for i,s in pairs(_G.restaurant.Items.OftenFiltered.Surface:GetChildren()) do
							if s:FindFirstChild("InUse") and s:FindFirstChild("InUse").Value == false then
								_G.table = s
								print(_G.table)
								local args = {
 	   								[1] = _G.restaurant,
	    								[2] = {
 	      									["name"] = "SendToTable",
		       								["obj"] = s,
	        								["group"] = tostring(v.Name),
        									["tycoon"] = _G.restaurant,
        									["customer"] = tostring(v.Name)
    									}
								}

								game:GetService("ReplicatedStorage").Events.ClientTycoonInput:FireServer(unpack(args))
							end
						end
					end
				end
			end
		end
